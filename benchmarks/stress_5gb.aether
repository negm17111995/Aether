// Aether Stress Test - 5000 x 1MB allocations (5GB)
func test_5gb() -> Int {
    let success = 0
    let i = 0
    while i < 5000 {
        let ptr = __builtin_malloc(1048576)
        if ptr == 0 { return success }
        __builtin_store8(ptr, i % 256)
        success = success + 1
        i = i + 1
    }
    success
}
func main() -> Int { test_5gb() }
