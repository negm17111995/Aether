// TEST 10: Nested Control Flow
// Tests: nested if, nested while, complex control flow

func main() -> Int {
    // Nested if test
    let x = 5
    let y = 10
    let result = 0
    
    if x < 10 {
        if y > 5 {
            if x + y == 15 {
                result = 1  // Should reach here
            }
        }
    }
    if result != 1 { return 1 }
    
    // Nested while test - multiplication table
    let i = 1
    let sum = 0
    while i <= 3 {
        let j = 1
        while j <= 3 {
            sum = sum + i * j
            j = j + 1
        }
        i = i + 1
    }
    // Sum should be: 1*1+1*2+1*3 + 2*1+2*2+2*3 + 3*1+3*2+3*3
    //              = 1+2+3 + 2+4+6 + 3+6+9 = 6 + 12 + 18 = 36
    if sum != 36 { return 2 }
    
    // Complex control flow
    let count = 0
    let n = 0
    while n < 100 {
        if n % 2 == 0 {
            if n % 3 == 0 {
                count = count + 1  // Divisible by both 2 and 3
            }
        }
        n = n + 1
    }
    // Numbers 0-99 divisible by 6: 0,6,12,18,24,30,36,42,48,54,60,66,72,78,84,90,96 = 17
    if count != 17 { return 3 }
    
    // Print "OK"
    print(79)
    print(75)
    print(10)
    0
}

func print(c: Int) {
    __builtin_print(c)
}
